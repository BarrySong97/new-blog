---
title: ä½¿ç”¨Dockeréƒ¨ç½²Jenkins
date: 2022-08-17T14:12
authors: Barry
tags: [Docker, CD/CI, å†™ç»™æ–°æ‰‹çœ‹çš„]
---

## å‰è¨€

æœ€è¿‘åœ¨ç»™å…¬å¸å‰ç«¯æ­å»ºç»„ä»¶åº“ã€‚

æ­å»ºç»„ä»¶åº“å°±æ„å‘³ç€éœ€è¦ä¸€å¥—å®Œæ•´ CI/CD æµç¨‹

å¾ˆæ—©ä¹‹å‰å°±çŸ¥é“è¿™ä¸€å¥—æŠ€æœ¯æ ˆï¼Œåƒæ˜¯ Jenkinsï¼ŒDocker...

ä½†æ˜¯ä¸ªäººçš„å¾ˆå°‘æœ‰ä½¿ç”¨åœºæ™¯ï¼Œæ¯”å¦‚æˆ‘è¿™ä¸ª blog ç›´æ¥åœ¨ netlify ä¸Šé¢å°±éƒ¨ç½²äº†ï¼Œåªéœ€è¦å†™ä¸ªé…ç½®æ–‡ä»¶ã€‚

åŠ ä¸Šè‡ªå·±ç»´æŠ¤ä¸€ä¸ªæœåŠ¡å™¨æˆæœ¬ä¹Ÿå¾ˆé«˜ã€‚

ä½œä¸ºä¸€ä¸ªå‰ç«¯å…¶å®ä¸å¤ªéœ€è¦äº†è§£è¿™äº›ï¼Œå› ä¸ºè¿™äº›æ˜¯è¿ç»´ä½•åç«¯åšçš„ã€‚

å½“ç„¶å¦‚æœä½ åœ¨å‡ ä¸ªäººçš„å…¬å¸ï¼Œé‚£ä¹ˆä½ å¤šåŠæ˜¯å…¨å¹²ã€‚

å¦‚æœæƒ³è¦ä»¥åè‡ªå·±åšç§æ´»ï¼Œæå‡è‡ªå·±çš„èƒ½åŠ›ï¼Œæœ‰æ›´å¼ºçš„ç«äº‰åŠ›ï¼Œå­¦æ— æ­¢å¢ƒï¼

## æ­£æ–‡

é¦–å…ˆæˆ‘ä»¬ä¸éœ€è¦å’Œå¾ˆå¤šå¹´å‰ä¸€æ ·

- ğŸŸ¢ ä¸‹è½½ Jenkins ä¾èµ–
- ğŸŸ¡ å®‰è£… jenkins
- ğŸ”´ é…ç½® Jenkins

æˆ‘ä»¬ä½¿ç”¨ Docker å®‰è£… Jenkinsï¼Œä½œä¸ºå‰ç«¯æˆ‘ä»¬ä¸éœ€è¦äº†è§£å¤ªæ·±å…¥æœåŠ¡å™¨ä¸Šçš„äº‹æƒ…ï¼Œä¸“æ³¨å·¥å…·çš„ä½¿ç”¨å’Œæ•ˆç‡

<!--truncate-->

### å®‰è£… Docker

:::note

æ³¨æ„ï¼Œè¿™é‡Œåªé»˜è®¤ linux unbuntu ç¯å¢ƒã€‚å¯ä»¥ä¹°ä¸€ä¸ªäº‘æœåŠ¡å™¨ï¼ŒåŸºæœ¬æ¯ä¸ªæœˆè…¾è®¯ä¸å’Œé˜¿é‡Œäº‘éƒ½ä¼šæ‰“ä»—ä¹°ä¸€äº›å°å‹æœåŠ¡å™¨ã€‚å¦‚æœä¸æƒ³ä¹°äº‘æœåŠ¡å™¨å¯ä»¥æœ¬åœ°å¼€ä¸€ä¸ªè™šæ‹Ÿæœºï¼Œæˆ–è€…ä½¿ç”¨ windows terminalã€‚

:::

å¦‚æœä»¥å‰å®‰è£…è¿‡ä½†æ˜¯æœ‰é—®é¢˜ï¼Œå¯ä»¥å…ˆåˆ é™¤ä»¥å‰çš„ä¸œè¥¿ï¼Œé‡æ–°å®‰è£…

```shell
sudo apt remove docker-desktop
rm -r $HOME/.docker/desktop
sudo rm /usr/local/bin/com.docker.cli
sudo apt purge docker-desktop
```

å®‰è£…å‘½ä»¤

```bash
sudo apt-get update
sudo apt-get install ./docker-desktop-<version>-<arch>.deb
```

```bash
systemctl --user start docker-desktop
systemctl --user enable docker-desktop
systemctl --user stop docker-desktop
```

æœ€åæ˜¯è€ç”Ÿå¸¸è°ˆçš„é…ç½®å›½å†…æºï¼Œä¸ç„¶é€Ÿåº¦å¾ˆæ…¢

```shell
sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json <<-'EOF'
{
  "registry-mirrors": ["https://fwvjnv59.mirror.aliyuncs.com"]
}
EOF
```

:::success

å¦‚æœä½ æƒ³çŸ¥é“åœ¨ä¸å¼€é•œåƒå°±èƒ½è·å¾—åŠ é€Ÿï¼Œå¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸€ç¯‡æ–‡ç« ï¼Œä¸è¿‡ç›®å‰åªè§£å†³æœ¬åœ°é—®é¢˜

[ç»™å‰ç«¯é¡¹ç›®é…ç½®ä»£ç è§„èŒƒå·¥å…·](https://www.barrysong4real.cc/blog/boot-your-depencies-speed)

:::

### å®‰è£… Jenkins
